<div class="flex flex-col items-center justify-stretch overflow-y-auto gap-y-3 w-12/12 sm:w-11/12 md:w-8/12 ml-auto mr-auto px-4">
  <div [class.hidden]="!posting" class="p-2 border border-transparent py-3 border-b-gray-950 w-full">
    <div class="flex flex-row items-center h-full w-full">
      <label class="block">
        @if (file) {
          <img #imagePreview src="" class="h-12 cursor-pointer" />
        } @else {
          <i class="fa-light fa-image fa-2x p-2 rounded-lg hover:bg-neutral-300 cursor-pointer"></i>
        }

        <input #fileInput type="file" class="absolute invisible w-0 h-0" />
      </label>

      <textarea
        #textArea
        class="textarea ml-2 grow pt-9"
        placeholder="Votre message..."
        (keydown.control.enter)="submit(fileInput, textArea)"
      ></textarea>

      <i
        *ngIf="!creatingPost"
        (click)="submit(fileInput, textArea)"
        class="fa-solid fa-paper-plane-top p-3 rounded-lg hover:bg-neutral-300 cursor-pointer ml-2"
      ></i>

      <i *ngIf="creatingPost" class="fa-solid fa-spinner fa-spin-pulse p-3 rounded-lg ml-2"></i>
    </div>
  </div>

  @if (posts; as posts) {
    <div class="flex flex-col gap-y-6 w-full mt-4">
      @for (post of posts; track post.id) {
        <app-post-card [post]="post" [routerLink]="[post.id]"></app-post-card>
      } @empty {
        <div class="text-center">No posts has been written yet!</div>
      }
    </div>
  } @else {
    loading...
  }
</div>
